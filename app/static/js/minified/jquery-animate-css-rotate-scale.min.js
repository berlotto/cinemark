/*!/** * Monkey patch jQuery 1.3.1+ to add support for setting or animating CSS * scale and rotation independently. * https://github.com/zachstronaut/jquery-animate-css-rotate-scale * Released under dual MIT/GPL license just like jQuery. * 2009-2012 Zachary Johnson www.zachstronaut.com */ !function(t){function e(t){var e=t.data("_ARS_data");return e||(e={rotateUnits:"deg",scale:1,rotate:0},t.data("_ARS_data",e)),e}function a(t,e){t.css("transform","rotate("+e.rotate+e.rotateUnits+") scale("+e.scale+","+e.scale+")")}t.fn.rotate=function(r){var n,o=t(this),s=e(o);return"undefined"==typeof r?s.rotate+s.rotateUnits:(n=r.toString().match(/^(-?\d+(\.\d+)?)(.+)?$/),n&&(n[3]&&(s.rotateUnits=n[3]),s.rotate=n[1],a(o,s)),this)},t.fn.scale=function(r){var n=t(this),o=e(n);return"undefined"==typeof r?o.scale:(o.scale=r,a(n,o),this)};var r=t.fx.prototype.cur;t.fx.prototype.cur=function(){return"rotate"==this.prop?parseFloat(t(this.elem).rotate()):"scale"==this.prop?parseFloat(t(this.elem).scale()):r.apply(this,arguments)},t.fx.step.rotate=function(a){var r=e(t(a.elem));t(a.elem).rotate(a.now+r.rotateUnits)},t.fx.step.scale=function(e){t(e.elem).scale(e.now)};var n=t.fn.animate;t.fn.animate=function(a){if("undefined"!=typeof a.rotate){var r,o,s=a.rotate.toString().match(/^(([+-]=)?(-?\d+(\.\d+)?))(.+)?$/);s&&s[5]&&(r=t(this),o=e(r),o.rotateUnits=s[5]),a.rotate=s[1]}return n.apply(this,arguments)}}(jQuery);